<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.0.0 | dr4</title>
    <meta name="description" content="The modern, binary object-oriented format">
    
    
    <link rel="preload" href="/site/assets/css/0.styles.bedfde85.css" as="style"><link rel="preload" href="/site/assets/js/app.a514be5d.js" as="script"><link rel="preload" href="/site/assets/js/2.5f19efde.js" as="script"><link rel="preload" href="/site/assets/js/16.2053005c.js" as="script"><link rel="prefetch" href="/site/assets/js/10.b06f7a2c.js"><link rel="prefetch" href="/site/assets/js/11.a3f75280.js"><link rel="prefetch" href="/site/assets/js/12.61c54a10.js"><link rel="prefetch" href="/site/assets/js/13.51980649.js"><link rel="prefetch" href="/site/assets/js/14.d353e45a.js"><link rel="prefetch" href="/site/assets/js/15.aacf940f.js"><link rel="prefetch" href="/site/assets/js/17.455f26be.js"><link rel="prefetch" href="/site/assets/js/18.4ad34e55.js"><link rel="prefetch" href="/site/assets/js/3.94674b52.js"><link rel="prefetch" href="/site/assets/js/4.3349ed03.js"><link rel="prefetch" href="/site/assets/js/5.f16cd70d.js"><link rel="prefetch" href="/site/assets/js/6.f82e7b05.js"><link rel="prefetch" href="/site/assets/js/7.e523a681.js"><link rel="prefetch" href="/site/assets/js/8.daa10ad6.js"><link rel="prefetch" href="/site/assets/js/9.b07814cb.js">
    <link rel="stylesheet" href="/site/assets/css/0.styles.bedfde85.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/site/" class="home-link router-link-active"><!----> <span class="site-name">dr4</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/site/" class="nav-link">Home</a></div><div class="nav-item"><a href="/site/blog/" class="nav-link">Blog</a></div><div class="nav-item"><a href="/site/about.html" class="nav-link">About</a></div><div class="nav-item"><a href="/site/faq.html" class="nav-link">FAQ</a></div><div class="nav-item"><a href="/site/spec/" class="nav-link router-link-active">Spec</a></div><div class="nav-item"><a href="/site/format.html" class="nav-link">Format</a></div><div class="nav-item"><a href="/site/projects/" class="nav-link">Projects</a></div> <a href="https://github.com/dr4f" target="_blank" rel="noopener noreferrer" class="repo-link">
    dr4 on GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/site/" class="nav-link">Home</a></div><div class="nav-item"><a href="/site/blog/" class="nav-link">Blog</a></div><div class="nav-item"><a href="/site/about.html" class="nav-link">About</a></div><div class="nav-item"><a href="/site/faq.html" class="nav-link">FAQ</a></div><div class="nav-item"><a href="/site/spec/" class="nav-link router-link-active">Spec</a></div><div class="nav-item"><a href="/site/format.html" class="nav-link">Format</a></div><div class="nav-item"><a href="/site/projects/" class="nav-link">Projects</a></div> <a href="https://github.com/dr4f" target="_blank" rel="noopener noreferrer" class="repo-link">
    dr4 on GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>1.0.0</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/site/spec/1-0-0.html#notes" class="sidebar-link">Notes</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/site/spec/1-0-0.html#document" class="sidebar-link">Document</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#document-header" class="sidebar-link">Document Header</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#document-body" class="sidebar-link">Document Body</a></li></ul></li><li><a href="/site/spec/1-0-0.html#rows" class="sidebar-link">Rows</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#row-header" class="sidebar-link">Row Header</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#row-body" class="sidebar-link">Row Body</a></li></ul></li><li><a href="/site/spec/1-0-0.html#types" class="sidebar-link">Types</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#type-listings" class="sidebar-link">Type Listings</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#stop" class="sidebar-link">STOP</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#bool" class="sidebar-link">BOOL</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#ui08" class="sidebar-link">UI08</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#ui16" class="sidebar-link">UI16</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#ui32" class="sidebar-link">UI32</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#ui64" class="sidebar-link">UI64</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#si08" class="sidebar-link">SI08</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#si16" class="sidebar-link">SI16</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#si32" class="sidebar-link">SI32</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#si64" class="sidebar-link">SI64</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#sgfn" class="sidebar-link">SGFN</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#dbfn" class="sidebar-link">DBFN</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#unxt" class="sidebar-link">UNXT</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#cstr" class="sidebar-link">CSTR</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#rawb" class="sidebar-link">RAWB</a></li><li class="sidebar-sub-header"><a href="/site/spec/1-0-0.html#pair" class="sidebar-link">PAIR</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content default"><h1 id="_1-0-0"><a href="#_1-0-0" aria-hidden="true" class="header-anchor">#</a> <code>1.0.0</code></h1> <p><em>Specification for dr4 version <code>0.0.1</code></em></p> <h2 id="notes"><a href="#notes" aria-hidden="true" class="header-anchor">#</a> Notes</h2> <ul><li>This is the first fully-fledged release version for <code>dr4</code></li> <li>This version expands the selection of types to include sequence types, time, and pairs.</li></ul> <h2 id="document"><a href="#document" aria-hidden="true" class="header-anchor">#</a> Document</h2> <p>A <code>dr4</code> document shall be defined as a sequence of bytes, that includes a document header, document body, and a termination sequence.</p> <h3 id="document-header"><a href="#document-header" aria-hidden="true" class="header-anchor">#</a> Document Header</h3> <p>A <code>dr4</code> document header shall be defined as a sequence of eight unsigned 8-bit integers at the beginning of the document. These are designated as follows:</p> <blockquote><ul><li>Bytes 1-3 are the magic sequence: 83, 94 and 121.</li> <li>Bytes 4-6 are the version bytes.</li> <li>Byte 7 is the sizer byte for varieties.</li> <li>Byte 8 is reserved for future use.</li></ul></blockquote> <p><strong>Note</strong>: This version of the <code>dr4</code> spec is non-standard. It does not enforce the presence of a version in the beginning of a document, nor a size variety.</p> <h3 id="document-body"><a href="#document-body" aria-hidden="true" class="header-anchor">#</a> Document Body</h3> <p>A <code>dr4</code> document body shall be defined as a series of <em>data rows</em>, terminated by a 4-byte sequence, all of which have the value 0.</p> <blockquote><ul><li>A document body is always terminated by 0 0 0 0, also read as \x00\x00\x00\x00</li></ul></blockquote> <h2 id="rows"><a href="#rows" aria-hidden="true" class="header-anchor">#</a> Rows</h2> <p>A <code>dr4</code> row shall be defined as a sequence of bytes, which includes a header, body, and stop byte.</p> <h3 id="row-header"><a href="#row-header" aria-hidden="true" class="header-anchor">#</a> Row Header</h3> <p>A <code>dr4</code> row header shall be defined as sequence of either unsigned  8-bit, 16-bit, or 32-bit integers, which represent the size, length, and offsets of the row. The header values are defined as follows:</p> <blockquote><ul><li>Bytes 1-4 of the header are an unsigned (8, 16, or 32-bit) integer holding the row size.</li> <li>Bytes 5-8 of the header are an unsigned (8, 16, or 32-bit) integer holding the row length.</li> <li>The row length shall never be greater than the row size.</li> <li>The row length shall never be zero.</li> <li>The row size shall never be zero.</li> <li>Bytes 9-f of the header are a sequence of unsigned (8, 16, or 32-bit) integers.</li></ul></blockquote> <p>The offset array of the row header's end byte, f, is derived by the following formulas:</p> <blockquote><p>8-bit  <code>f = 2 + length - 1</code>
16-bit <code>f = 4 + (length * 2) - 1</code>
32-bit <code>f = 8 + (length * 4) - 1</code></p></blockquote> <p>The offset of a row's field is defined as the first byte of the field at an offset of <code>n</code> bytes from byte <code>0</code> of the row's body. The rules of the offsets held within a row header's offset array are defined as:</p> <blockquote><ul><li>An offset value is never greater than the size of the row.</li> <li>No two offset value's can be the same within the same row.</li> <li>The length of the row and the size of the offset array must always be equal.</li> <li>The first offset in the offset array is always <code>0</code>.</li> <li>Each row must always have at least one offset.</li></ul></blockquote> <h3 id="row-body"><a href="#row-body" aria-hidden="true" class="header-anchor">#</a> Row Body</h3> <p>A <code>dr4</code> row body shall be defined as a sequence of bytes, that is terminated by a stopping byte. The stopping byte is an unsigned 8-bit integer with a value of <code>0</code>. The contents within the row body correspond to the typed fields which hold the data of the <code>dr4</code> format.</p> <h2 id="types"><a href="#types" aria-hidden="true" class="header-anchor">#</a> Types</h2> <p>A type shall be defined as a unique, 8-bit unsigned integer with indicates the type of data stored within a field. A type mark is defined as the first byte of each type, which indicates the type.</p> <hr> <h4 id="notation"><a href="#notation" aria-hidden="true" class="header-anchor">#</a> Notation</h4> <p>The binary notation used adheres to the format:</p> <div class="language- extra-class"><pre class="language-text"><code>\x01 == 1 == 00000001
 |      |       |
 fmt    dec    binary 
</code></pre></div><p>The max value for a byte is <code>\x255</code> and the minimum is <code>\x00</code>.</p> <h3 id="type-listings"><a href="#type-listings" aria-hidden="true" class="header-anchor">#</a> Type Listings</h3> <p>The types supported by this specification are as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>
 STOP                     \x00

 . simple types .
......................................

 NONE                     \x01
 BOOL                     \x02
 UI08                     \x03
 UI16                     \x04
 UI32                     \x05
 UI64                     \x06
 SI08                     \x07
 SI16                     \x08
 SI32                     \x09
 SI64                     \x10
 SGFN                     \x11
 DBFN                     \x12

 . time type .
 ......................................
 UNXT (unix-time)         \x13

 . sequence types .
 ......................................

 CSTR (C-string)          \x14
 RAWB (raw-bytes)         \x15

 . structure types .
 ......................................
 PAIR                     \x16
</code></pre></div><p><em>Note</em> : <code>FN</code> refers to floating-point number.</p> <h3 id="stop"><a href="#stop" aria-hidden="true" class="header-anchor">#</a> STOP</h3> <p>The stoppage byte. This byte is always present at the end of a row body, and thus, the entire row itself.</p> <h3 id="bool"><a href="#bool" aria-hidden="true" class="header-anchor">#</a> BOOL</h3> <p>The <code>bool</code> type is a data type with a size of <code>2</code> bytes. The first byte is the bool type byte, <code>\x02</code>, while the second byte holds the state. <code>\x01</code> corresponds to the true state, and <code>\x00</code> for the false state.</p> <h3 id="ui08"><a href="#ui08" aria-hidden="true" class="header-anchor">#</a> UI08</h3> <p>The <code>UI08</code> type is an 8-bit unsigned integer. The first byte is the <code>UI08</code> type byte, the second byte is the value between <code>0, 255</code>.</p> <h3 id="ui16"><a href="#ui16" aria-hidden="true" class="header-anchor">#</a> UI16</h3> <p>The <code>UI16</code> type is a 16-bit unsigned integer. The first byte is the <code>UI16</code> type byte, the remaining bytes represent the value between <code>0, 65535</code></p> <h3 id="ui32"><a href="#ui32" aria-hidden="true" class="header-anchor">#</a> UI32</h3> <p>The <code>UI32</code> type is a 32-bit unsigned integer. The first byte is the <code>UI32</code> type byte, the remaining bytes represent the value between <code>0, 4294967295</code></p> <h3 id="ui64"><a href="#ui64" aria-hidden="true" class="header-anchor">#</a> UI64</h3> <p>The <code>UI64</code> type is a 64-bit unsigned integer. The first byte is the <code>UI64</code> type byte, the remaining bytes represent the value between <code>0, 18,446,744,073,709,551,615</code></p> <h3 id="si08"><a href="#si08" aria-hidden="true" class="header-anchor">#</a> SI08</h3> <p>The <code>SI08</code> type is an 8-bit signed integer. The first byte is the <code>SI08</code> type byte, the second byte is the value between <code>-127 , 127</code>.</p> <h3 id="si16"><a href="#si16" aria-hidden="true" class="header-anchor">#</a> SI16</h3> <p>The <code>SI16</code> type is an 16-bit signed integer. The first byte is the <code>SI16</code> type byte, the remaining bytes represent the value between <code>-32767 , 32767</code>.</p> <h3 id="si32"><a href="#si32" aria-hidden="true" class="header-anchor">#</a> SI32</h3> <p>The <code>SI32</code> type is a 32-bit signed integer. The first byte is the <code>SI32</code> type byte, the remaining bytes represent the value between <code>0, 4294967295</code></p> <h3 id="si64"><a href="#si64" aria-hidden="true" class="header-anchor">#</a> SI64</h3> <p>The <code>SI64</code> type is a 64-bit signed integer. The first byte is the <code>SI64</code> type byte, the remaining bytes represent the value between <code>−9,223,372,036,854,775,807, +9,223,372,036,854,775,807</code></p> <h3 id="sgfn"><a href="#sgfn" aria-hidden="true" class="header-anchor">#</a> SGFN</h3> <p>Single precision floating point number type. Equivalent to a <code>float</code> data type in the C language. The first byte is the <code>SGFN</code> type byte, the remaining bytes represent the float itself.</p> <h3 id="dbfn"><a href="#dbfn" aria-hidden="true" class="header-anchor">#</a> DBFN</h3> <p>Double precision floating point number type. Equivalent to a <code>double</code> data type in the C language. The first byte is the <code>DBFN</code> type byte, the remaining bytes represent the float itself.</p> <h3 id="unxt"><a href="#unxt" aria-hidden="true" class="header-anchor">#</a> UNXT</h3> <p>A 64-bit signed integer representing a UTC unix time stamp, of the number of seconds since January 1st, 1970. The first byte is the <code>UNXT</code> type byte, the remaining bytes represent the 64-bit</p> <h3 id="cstr"><a href="#cstr" aria-hidden="true" class="header-anchor">#</a> CSTR</h3> <p>A type representing the equivalent of a <code>const char *</code> string of the C-language. Consists of a sequence of signed 8-bit integers to store the characters of the string, and then a <code>'\0'</code> terminating character.</p> <p>Structure:</p> <div class="language- extra-class"><pre class="language-text"><code>\x14    \x120\x101\x45\x43 \x00
  |             |           |
 type         text         null
</code></pre></div><h3 id="rawb"><a href="#rawb" aria-hidden="true" class="header-anchor">#</a> RAWB</h3> <p>A type representing a sequence of raw binary data, 8-bit unsigned integers. Consists of a 32-bit unsigned integer to store the size, then a sequence of 8-bit unsigned, equivalent to <code>unsigned char</code> in the C-language.</p> <p>Structure:</p> <div class="language- extra-class"><pre class="language-text"><code>\x15 \x04\x00\x00\x00 \x203\x161\x45\x43 
 |           |                  |       
 type      size               bytes        
</code></pre></div><h3 id="pair"><a href="#pair" aria-hidden="true" class="header-anchor">#</a> PAIR</h3> <p>A type representing a pairing of two other <code>dr4</code> types. However,</p> <ol><li>Either of a pair's values cannot be another pair.</li> <li>The values of a pair can never be empty.</li></ol> <p>Structure:</p> <div class="language- extra-class"><pre class="language-text"><code>\x16 &lt;type 1&gt;     &lt;type 2&gt;
        |           |
     -------     ---------
    |       |    |        |
  \x15\x46\x00      \x01
</code></pre></div><p><em>Note:</em> The types used inside the pair above are just examples, pairs can contain any type except for another pair.</p></div> <!----> <!----> </div></div><div class="global-ui"></div></div>
    <script src="/site/assets/js/2.5f19efde.js" defer></script><script src="/site/assets/js/16.2053005c.js" defer></script><script src="/site/assets/js/app.a514be5d.js" defer></script>
  </body>
</html>
